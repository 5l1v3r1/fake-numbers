/**
 * Generate fake and valid numbers
 *
 * @see https://fakenumbers.io
 * @license https://fakenumbers.io/license
 * @copyright 2020 Nguyen Huu Phuoc <me@phuoc.ng>
 */

import { expect } from 'chai';

import { iban } from '../src';

describe('IBAN number', () => {
    it('Fake IBAN number', () => {
        const number = iban.fake();
        const result = iban.check(number);
        expect(result.valid).to.be.true;
    });

    it('Fake IBAN number in given country', () => {
        const supportedCountries = [
            'AD', 'AE', 'AL', 'AO', 'AT', 'AZ',
            'BA', 'BE', 'BF', 'BG', 'BH', 'BI', 'BJ', 'BR',
            'CH', 'CI', 'CM', 'CR', 'CV', 'CY', 'CZ',
            'DE', 'DK', 'DO', 'DZ',
            'EE', 'ES',
            'FI', 'FO', 'FR',
            'GB', 'GE', 'GI', 'GL', 'GR', 'GT',
            'HR', 'HU',
            'IE', 'IL', 'IR', 'IS', 'IT',
            'JO',
            'KW', 'KZ',
            'LB', 'LI', 'LT', 'LU', 'LV',
            'MC', 'MD', 'ME', 'MG', 'MK', 'ML', 'MR', 'MT', 'MU', 'MZ',
            'NL', 'NO',
            'PK', 'PL', 'PS', 'PT',
            'QA',
            'RO', 'RS',
            'SA', 'SE', 'SI', 'SK', 'SM', 'SN',
            'TL', 'TN', 'TR',
            'VG',
            'XK',
        ];

        supportedCountries.forEach((country) => {
            const number = iban.fake(country);
            const result = iban.check(number);
            expect(result.valid).to.be.true;
        });
    });

    it('Valid IBAN numbers', () => {
        [
            'AL47212110090000000235698741',
            'DZ4000400174401001050486',
            'AD1200012030200359100100',
            'AO06000600000100037131174',
            'AT611904300234573201',
            'AZ21NABZ00000000137010001944',
            'BH29BMAG1299123456BH00',
            'BA391290079401028494',
            'BE68539007547034',
            'BJ11B00610100400271101192591',
            'BR9700360305000010009795493P1',
            'BG80BNBG96611020345678',
            'BF1030134020015400945000643',
            'BI43201011067444',
            'CM2110003001000500000605306',
            'CV64000300004547069110176',
            'CR0515202001026284066',
            'HR1210010051863000160',
            'CY17002001280000001200527600',
            'CZ6508000000192000145399',
            'DK5000400440116243',
            'DO28BAGR00000001212453611324',
            'TL380080012345678910157',
            'EE382200221020145685',
            'FO1464600009692713',
            'FI2112345600000785',
            'FR1420041010050500013M02606',
            'GT82TRAJ01020000001210029690',
            'GE29NB0000000101904917',
            'DE89370400440532013000',
            'GI75NWBK000000007099453',
            'GR1601101250000000012300695',
            'GL8964710001000206',
            'HU42117730161111101800000000',
            'IS140159260076545510730339',
            'IR580540105180021273113007',
            'IE29AIBK93115212345678',
            'IL620108000000099999999',
            'IT60X0542811101000000123456',
            'CI05A00060174100178530011852',
            'JO94CBJO0010000000000131000302',
            'KZ176010251000042993',
            'KW74NBOK0000000000001000372151',
            'LV80BANK0000435195001',
            'LB30099900000001001925579115',
            'LI21088100002324013AA',
            'LT121000011101001000',
            'LU280019400644750000',
            'MK07300000000042425',
            'MG4600005030010101914016056',
            'MT84MALT011000012345MTLCAST001S',
            'MR1300012000010000002037372',
            'MU17BOMM0101101030300200000MUR',
            'ML03D00890170001002120000447',
            'MD24AG000225100013104168',
            'MC5813488000010051108001292',
            'ME25505000012345678951',
            'MZ59000100000011834194157',
            'NL91ABNA0417164300',
            'NO9386011117947',
            'PK24SCBL0000001171495101',
            'PS92PALS000000000400123456702',
            'PL27114020040000300201355387',
            'PT50000201231234567890154',
            'QA58DOHB00001234567890ABCDEFG',
            'XK051212012345678906',
            'RO49AAAA1B31007593840000',
            'SM86U0322509800000000270100',
            'SA0380000000608010167519',
            'SN12K00100152000025690007542',
            'RS35260005601001611379',
            'SK3112000000198742637541',
            'SI56191000000123438',
            'ES9121000418450200051332',
            'SE3550000000054910000003',
            'CH9300762011623852957',
            'TN5914207207100707129648',
            'TR330006100519786457841326',
            'AE260211000000230064016',
            'GB29NWBK60161331926819',
            'VG96VPVG0000012345678901',
        ].forEach((n) => expect(iban.check(n).valid).to.be.true);
    });
});
